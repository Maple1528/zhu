(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dcfb3e8"],{"1f29":function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"search_box"},[e("img",{staticClass:"search_icon",attrs:{src:i("ca1b"),alt:"搜索"}}),e("input",{staticClass:"search_text",attrs:{type:"search",placeholder:"搜索"}})])}],n={name:"SearchBox"},c=n,a=(i("6137"),i("2877")),r=Object(a["a"])(c,e,o,!1,null,"59da87cf",null);s["a"]=r.exports},"2d58":function(t,s,i){t.exports=i.p+"img/1.5c8218bc.jpg"},"302d":function(t,s,i){},"3d83":function(t,s,i){"use strict";i("89de")},"42b7":function(t,s,i){},6095:function(t,s,i){"use strict";i("42b7")},6137:function(t,s,i){"use strict";i("6392")},6392:function(t,s,i){},"66a7":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"top"},[e("div",{staticClass:"top_main"},[e("div",{staticClass:"top_item item1"},[e("div",[t._v(t._s(t.sortItem1))]),e("img",{attrs:{src:i("be33"),alt:"展开"}}),e("ul",t._l(t.sortBasis1,(function(s,i){return e("li",{key:i,on:{click:function(s){return t.changeItem1(i)}}},[t._v(t._s(s))])})),0)]),e("div",{staticClass:"top_item item2"},[e("div",[t._v(t._s(t.sortItem2))]),e("img",{attrs:{src:i("be33"),alt:"展开"}}),e("ul",t._l(t.sortBasis2,(function(s,i){return e("li",{key:i,on:{click:function(s){return t.changesort2(i)}}},[t._v(t._s(s))])})),0)]),e("SearchBox")],1)]),e("div",{staticClass:"sort_result"},[e("div",{staticClass:"sort_result_box"},[e("div",{staticClass:"result_title"},[t._v('有关"'+t._s(t.sortItem2)+'"的项目')]),e("div",{staticClass:"result_box"},t._l(t.sortResult,(function(t,s){return e("div",{key:s,staticClass:"list_item"},[e("ProjItem",{attrs:{proj_id:t}})],1)})),0)])]),e("UnlimitedList")],1)},o=[],n=i("1f29"),c=i("6793"),a=i("86db"),r=i("bc3a"),l=i.n(r),u={name:"Sort",data:function(){return{show:!1,sortItem1:"地区",sortItem2:"中国",sortBasis1:["地区","类型"],sortBasis2:["中国","美国","瑞士"],locations:["中国","美国","瑞士"],types:["住宅","展陈建筑","文化中心","教育建筑"],sortResult:[]}},mounted:function(){this.init()},components:{SearchBox:n["a"],ProjItem:c["a"],UnlimitedList:a["a"]},methods:{init:function(){var t=this.$route.params.sortItem;console.log(t),"location"===t?(this.sortItem1=this.sortBasis1[0],this.sortBasis2=this.locations,this.sortItem2=this.locations[0],this.selectLocation()):"type"===t&&(this.sortItem1=this.sortBasis1[1],this.sortBasis2=this.types,this.sortItem2=this.types[0],this.selectType()),this.show=!0},changeItem1:function(t){this.sortItem1=this.sortBasis1[t],0===t?(this.sortBasis2=this.locations,this.sortItem2=this.locations[0],this.selectLocation()):(this.sortBasis2=this.types,this.sortItem2=this.types[0],this.selectType())},changesort2:function(t){this.sortItem2=this.sortBasis2[t],"地区"===this.sortItem1?this.selectLocation():this.selectType()},selectLocation:function(){var t=this;l.a.post("/api/selectLocation/"+this.sortItem2,{location:this.sortItem2}).then((function(s){var i=[];if(1===s.data.code){for(var e=s.data.result,o=0;o<e.length;o++)i.push(e[o].id);console.log(i)}t.sortResult=i,console.log(t.sortResult)})).catch((function(t){console.log(t)}))},selectType:function(){var t=this;l.a.post("/api/selectType/"+this.sortItem2,{type:this.sortItem2}).then((function(s){var i=[];if(1===s.data.code){for(var e=s.data.result,o=0;o<e.length;o++)i.push(e[o].id);console.log(i)}t.sortResult=i})).catch((function(t){console.log(t)}))}}},m=u,h=(i("3d83"),i("2877")),d=Object(h["a"])(m,e,o,!1,null,"4bd073da",null);s["default"]=d.exports},6793:function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return t.showItem?i("div",{staticClass:"proj_item"},[i("div",{staticClass:"img_box"},[i("img",{attrs:{src:t.imgSrc,alt:"项目封面图"},on:{load:function(s){return t.loadImg()}}}),i("div",{staticClass:"cover"},[t._m(0),i("div",{staticClass:"location"},[t._v(t._s(t.location))]),i("div",{staticClass:"type"},[t._v(t._s(t.type))])])]),i("div",{staticClass:"text_box",on:{click:function(s){return t.getProjInfo()}}},[t._v(t._s(t.name))])]):t._e()},o=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"more"},[e("div",[t._v("详 细 信 息")]),e("img",{attrs:{src:i("ba98"),alt:""}})])}],n=(i("b0c0"),i("bc3a")),c=i.n(n),a={name:"ProjItem",props:["proj_id"],data:function(){return{showItem:!1,name:"",location:"",type:"",imgSrc:i("2d58"),src:"small/1.jpg"}},created:function(){this.getProjInfo()},methods:{getProjInfo:function(){var t=this;c.a.post("/api/getProjInfo/"+this.proj_id,{id:this.proj_id}).then((function(s){if(1===s.data.code){var i=s.data.result[0];t.name=i.name,t.location=i.location,t.type=i.type,t.showItem=!0}})).catch((function(t){console.log(t)}))},loadImg:function(){this.showItem=!0}}},r=a,l=(i("6095"),i("2877")),u=Object(l["a"])(r,e,o,!1,null,"ed5217c6",null);s["a"]=u.exports},"86db":function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"unlimited_list"},[i("div",{staticClass:"list_title"},[t._v("探索更多")]),i("div",{staticClass:"main_box"},t._l(t.unlimitedList,(function(t,s){return i("div",{key:s,staticClass:"list_item"},[i("ProjItem",{attrs:{proj_id:t}})],1)})),0)])},o=[],n=i("6793"),c={name:"UnlimitedList",data:function(){return{windowH:window.screen.height+600,listItem:1,unlimitedList:[1,2,3,4,5,6,7,8]}},components:{ProjItem:n["a"]},methods:{addList:function(){var t=document.documentElement.scrollTop+document.body.scrollTop,s=document.documentElement.offsetHeight;t+window.innerHeight<=s&&(this.unlimitedList.push(this.listItem,this.listItem+1,this.listItem+2),this.listItem+=3,this.listItem>=9&&(this.listItem-=8))},insertImg:function(){var t=setInterval((function(){document.documentElement.scrollHeight>this.windowH&&clearInterval(t),console.log(this.listItem),this.unlimitedList.push(this.listItem),this.listItem++,9===this.listItem&&(this.listItem=1)}),200)},scroll:function(){var t=this;window.onscroll=function(){var s=document.documentElement.scrollTop+document.body.scrollTop,i=document.documentElement.offsetHeight;s+window.innerHeight<=i&&s+window.innerHeight>=i-50&&(t.unlimitedList.push(t.listItem,t.listItem+1,t.listItem+2),t.listItem+=3,t.listItem>=9&&(t.listItem-=8))}}},mounted:function(){this.scroll()}},a=c,r=(i("ceec"),i("2877")),l=Object(r["a"])(a,e,o,!1,null,"64bf0f0b",null);s["a"]=l.exports},"89de":function(t,s,i){},b0c0:function(t,s,i){var e=i("83ab"),o=i("9bf2").f,n=Function.prototype,c=n.toString,a=/^\s*function ([^ (]*)/,r="name";e&&!(r in n)&&o(n,r,{configurable:!0,get:function(){try{return c.call(this).match(a)[1]}catch(t){return""}}})},ba98:function(t,s,i){t.exports=i.p+"img/arrow_white.4c6ae0fe.svg"},ca1b:function(t,s,i){t.exports=i.p+"img/search.12ef73f2.svg"},ceec:function(t,s,i){"use strict";i("302d")}}]);
//# sourceMappingURL=chunk-5dcfb3e8.1656557f.js.map